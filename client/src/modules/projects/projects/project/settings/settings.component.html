<mat-spinner *ngIf="(isLoading$ | async)" color="accent"></mat-spinner>

<div class="container" *ngIf="!(isLoading$ | async)">
    <div class="row">
        <div class="col-md-12">
            <div class="mb-4">
                <mat-card>
                    <mat-card-title-group *ngIf="project.active">
                        <img class="feed-avatar" [src]="project.profile_picture">
                    </mat-card-title-group>
                    <mat-card-content *ngIf="project.active">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Project Name</mat-label>
                            <input matInput [(ngModel)]="project.project_name" placeholder="Project Name">
                            <mat-icon matSuffix>badge</mat-icon>
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Profile Picture</mat-label>
                            <input matInput [(ngModel)]="project.profile_picture" placeholder="Profile Picture">
                            <mat-icon matSuffix>badge</mat-icon>
                        </mat-form-field>
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Description</mat-label>
                            <textarea rows="5" matInput [(ngModel)]="project.plantation.description"
                                placeholder="Feel free to describe briefly about your listing ..."></textarea>
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="mt-2 full-width">
                            <mat-label>Plantation Area (in acres)</mat-label>
                            <input matInput [(ngModel)]="project.plantation.area" placeholder="in acres" type="number">
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Altitude (in mtrs)</mat-label>
                            <input matInput [(ngModel)]="project.plantation.altitude" placeholder="in mtrs" type="number">
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Rainfall (in cms)</mat-label>
                            <input matInput [(ngModel)]="project.plantation.rainfall" placeholder="in cms" type="number">
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Plantation Video (use embed, if applicable)</mat-label>
                            <input matInput [(ngModel)]="project.plantation.description_video" placeholder="Your plantation video URL" type="url">
                        </mat-form-field>
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>About Region & Bio Diversity</mat-label>
                            <textarea rows="5" matInput [(ngModel)]="project.plantation.region_and_bio"
                                placeholder="Mention about the region and bio diversity"></textarea>
                        </mat-form-field>
                    </mat-card-content>
                    <mat-card-footer class="mt-4 mb-4">
                        <div class="container window">
                            <button *ngIf="project.active"  mat-raised-button color="blue-ryb" (click)="saveDetails()">
                                <mat-icon>save</mat-icon> Save Details
                            </button>
                            <button *ngIf="project.active" mat-raised-button color="primary" (click)="changeArchiveStatus(false)">
                                <mat-icon>archive</mat-icon> Archive Project
                            </button>
                            <button *ngIf="!project.active" mat-raised-button color="primary" (click)="changeArchiveStatus(true)">
                                <mat-icon>archive</mat-icon> Un-Archive Project
                            </button>
                            <button mat-raised-button color="warn" (click)="removeProject()">
                                <mat-icon>delete</mat-icon> Remove Project
                            </button>
                        </div>
                    </mat-card-footer>
                </mat-card>
            </div>
        </div>
    </div>
</div>